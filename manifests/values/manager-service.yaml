env:
  open:
    CHOERODON_GATEWAY_DOMAIN: {{ ( .GetResource "api-gateway").Domain }}
    CHOERODON_SWAGGER_OAUTH_URL: {{ ( .GetResource "api-gateway").Schema }}://{{ ( .GetResource "api-gateway").Domain }}/oauth/oauth/authorize
    EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: {{ ( .GetResource "register-server").Url }}
    SPRING_CLOUD_CONFIG_URI: {{ ( .GetResource "register-server").Schema }}://{{ ( .GetResource "register-server").Host }}:{{ (.GetResource "register-server").Port }}
    SPRING_DATASOURCE_PASSWORD: "password"
    SPRING_DATASOURCE_URL: {{ .GetDatabaseUrl "manager_service" }}
    SPRING_DATASOURCE_USERNAME: "choerodon"
    SPRING_REDIS_DATABASE: 1
    SPRING_REDIS_HOST: {{ ( .GetResource "redis").Host }}
    SPRING_REDIS_PORT: {{ ( .GetResource "redis").Port }}
preJob:
  timeout: 1800
  preInitDB:
    datasource:
      # TODO get manager method
      password: "password"
      url: {{ .GetDatabaseUrl "manager_service" }}
      username: "choerodon"