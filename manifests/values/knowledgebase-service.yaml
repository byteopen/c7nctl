env:
  open:
    EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: {{ ( .GetResource "register-server").Url }}
    SERVICES_ATTACHMENT_URL: {{ ( .GetResource "minio").Schema }}://{{ ( .GetResource "minio").Domain }}
    SPRING_CLOUD_CONFIG_URI: {{ ( .GetResource "register-server").Schema }}://{{ ( .GetResource "register-server").Host }}:{{ ( .GetResource "register-server").Port }}
    SPRING_DATASOURCE_PASSWORD: "password"
    SPRING_DATASOURCE_URL: {{ .GetDatabaseUrl "knowledgebase_service" }}
    SPRING_DATASOURCE_USERNAME: "choerodon"
    ELASTICSEARCH_IP: {{ ( .GetResource "elasticsearch-kb").Host }}:{{ ( .GetResource "elasticsearch-kb").Port }}
preJob:
  timeout: 1800
  preInitDB:
    datasource:
      url: {{ .GetDatabaseUrl "knowledgebase_service" }}
      username: "choerodon"
      password: "password"
  preConfig:
    updatePolicy: override  